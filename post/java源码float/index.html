<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>[Javaæºç ]Float - Blog - renyijiu</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="renyijiu" /><meta name="description" content="Javaæºç -Float" /><meta name="keywords" content="Java, Javaæºç , Float" />






<meta name="generator" content="Hugo 0.55.6 with even 4.0.0" />


<link rel="canonical" href="https://blog.renyijiu.com/post/java%E6%BA%90%E7%A0%81float/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.584a2671.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="[Javaæºç ]Float" />
<meta property="og:description" content="Javaæºç -Float" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.renyijiu.com/post/java%E6%BA%90%E7%A0%81float/" />
<meta property="article:published_time" content="2019-08-27T11:35:06&#43;08:00"/>
<meta property="article:modified_time" content="2019-08-27T11:35:06&#43;08:00"/>

<meta itemprop="name" content="[Javaæºç ]Float">
<meta itemprop="description" content="Javaæºç -Float">


<meta itemprop="datePublished" content="2019-08-27T11:35:06&#43;08:00" />
<meta itemprop="dateModified" content="2019-08-27T11:35:06&#43;08:00" />
<meta itemprop="wordCount" content="5330">



<meta itemprop="keywords" content="Javaæºç ,Float," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Javaæºç ]Float"/>
<meta name="twitter:description" content="Javaæºç -Float"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Renyijiu</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Renyijiu</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">[Javaæºç ]Float</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-08-27 </span>
        <div class="post-category">
            <a href="/categories/java%E6%BA%90%E7%A0%81/"> Javaæºç  </a>
            </div>
        
      </div>
    </header>

    
    <div class="post-content">
      <p>è¿™æ¬¡æˆ‘ä»¬æ¥çœ‹çœ‹<code>Float</code>ç±»çš„æºä»£ç ï¼ŒåŸºäº <em>jdk1.8.0_181.jdk</em> ç‰ˆæœ¬ ã€‚</p>

<h2 id="å‰è¨€">å‰è¨€</h2>

<p>å› ä¸º<code>Float</code>æ˜¯<code>float</code>æ•°æ®ç±»å‹çš„åŒ…è£…ç±»ï¼Œæ‰€ä»¥å…ˆä»‹ç»ä¸€ä¸‹<code>float</code>çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹å®˜æ–¹æ–‡æ¡£çš„åŸºæœ¬ä»‹ç»ã€‚</p>

<blockquote>
<p>The <code>float</code> data type is a single-precision 32-bit IEEE 754 floating point. Its range of values is beyond the scope of this discussion, but is specified in the <a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3">Floating-Point Types, Formats, and Values</a> section of the Java Language Specification. As with the recommendations for <code>byte</code> and <code>short</code>, use a <code>float</code> (instead of <code>double</code>) if you need to save memory in large arrays of floating point numbers. This data type should never be used for precise values, such as currency. For that, you will need to use the <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html">java.math.BigDecimal</a> class instead. <a href="https://docs.oracle.com/javase/tutorial/java/data/index.html">Numbers and Strings</a> covers <code>BigDecimal</code> and other useful classes provided by the Java platform.</p>
</blockquote>

<p>Javaä¸­çš„<code>float</code>æ•°æ®ç±»å‹æ˜¯ä¸ª<strong>å•ç²¾åº¦ 32bit</strong> çš„ <em>IEEE 754</em> æ ‡å‡†çš„æµ®ç‚¹æ•°ã€‚è€ŒIEEE 754æ˜¯ç›®å‰æœ€å¹¿æ³›ä½¿ç”¨çš„æµ®ç‚¹æ•°è¿ç®—æ ‡å‡†ï¼Œå®šä¹‰äº†è¡¨ç¤ºæµ®ç‚¹æ•°çš„æ ¼å¼ï¼ˆåŒ…æ‹¬-0ï¼‰ä¸åå¸¸å€¼ï¼Œä¸€äº›ç‰¹æ®Šæ•°å€¼ï¼ˆ+/-âˆä¸NaNï¼‰ï¼Œä»¥åŠè¿™äº›æ•°å€¼çš„&rdquo;æµ®ç‚¹æ•°è¿ç®—ç¬¦&rdquo;ã€‚å¦å¤–è§„å®šäº†å››ç§è¡¨ç¤ºæµ®ç‚¹æ•°å€¼çš„æ–¹å¼ï¼šå•ç²¾åº¦ï¼ˆ32ä½ï¼‰ã€åŒç²¾åº¦ï¼ˆ64ä½ï¼‰ã€å»¶ä¼¸å•ç²¾åº¦ï¼ˆ43ä½ä»¥ä¸Šï¼‰ä¸å»¶ä¼¸åŒç²¾åº¦ï¼ˆ79ä½ä»¥ä¸Šï¼‰ã€‚å…·ä½“æ›´åŠ è¯¦ç»†çš„æ ‡å‡†è¯´æ˜å¯ä»¥å‚è€ƒ <a href="https://zh.wikipedia.org/zh-cn/IEEE_754">IEEE 754 ç»´åŸºç™¾ç§‘</a>ã€‚</p>

<h3 id="å•ç²¾åº¦-32bit">å•ç²¾åº¦ï¼ˆ32bitï¼‰</h3>

<p>å€Ÿç”¨ç»´åŸºç™¾ç§‘çš„å›¾è¿›è¡Œè¯´æ˜ï¼Œ<img src="../../img/float.png" alt="" /></p>

<ul>
<li>sign: ç¬¦å·ä½ï¼Œ<code>1</code>ä½ã€‚0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ã€‚</li>
<li>exponent: æŒ‡æ•°ä½ï¼Œ<code>8</code>ä½ã€‚å•ç²¾åº¦çš„æŒ‡æ•°éƒ¨åˆ†æ˜¯âˆ’126ï½+127åŠ ä¸Šåç§»å€¼127ï¼ŒæŒ‡æ•°å€¼çš„å¤§å°ä»1ï½254ï¼ˆ0å’Œ255æ˜¯ç‰¹æ®Šå€¼ï¼‰</li>
<li>fraction: ä½æ•°ä½ï¼Œ<code>23ä½</code>ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°å­—å¿…å®šæ˜¯1ï¼Œå› æ­¤è¿™ä¸ª1ä¸ä¼šå­˜å‚¨ï¼Œå³æœ‰24ä½ï¼Œlog 2**24=7.22ï¼Œè¡¨ç¤ºäº†å¯ä»¥ä¿è¯<code>7</code>ä½çš„æœ‰æ•ˆæ•°å­—ç²¾åº¦ã€‚</li>
</ul>

<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œç°åœ¨æœ‰ä¸ª&rdquo;01000001001100010100011110101110&rdquo;å­—ç¬¦ä¸²è¿›è¡Œç®€å•çš„åˆ†æï¼š</p>

<ol>
<li>ç¬¦å·ä½ä¸º<code>0</code>ï¼Œè¡¨ç¤ºæ­£æ•°</li>
<li>æŒ‡æ•°ä½ä¸º<code>10000010</code>ï¼Œç»“æœä¸º130ï¼Œå‡å»åç§»é‡127åä¸º3</li>
<li>å°¾æ•°ä½ä¸º<code>01100010100011110101110</code>ï¼Œå¯¹åº”çš„å€¼ä¸º<code>1.0110001010001111010111</code></li>
<li>äºæ˜¯å¾—åˆ°æµ®ç‚¹æ•°ä¸º<code>1011.0001010001111010111</code>ï¼Œè½¬æˆåè¿›åˆ¶ä¸º<code>11.07999992370605469</code>ï¼Œçº¦ç­‰äº<code>11.08</code></li>
</ol>

<p>æ›´åŠ è¯¦ç»†çš„è¯´æ˜å¯ä»¥è‡ªè¡Œæœç´¢ï¼Œæˆ–è€…æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3">Floating-Point Types, Formats, and Values</a></p>

<h2 id="ç±»å®šä¹‰">ç±»å®šä¹‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Float</span> <span class="kd">extends</span> <span class="n">Number</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Float</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>å®šä¹‰ä¸­å¸¦æœ‰<code>final</code>æ ‡è¯†ï¼Œè¡¨ç¤ºæ˜¯<strong>ä¸å¯ç»§æ‰¿çš„</strong>ï¼Œå¦å¤–ç»§æ‰¿äº†<code>Number</code>ç±»ï¼Œå®ç°äº†<code>Comparable</code>æ¥å£</p>

<h2 id="å±æ€§">å±æ€§</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">POSITIVE_INFINITY</span> <span class="o">=</span> <span class="n">1</span><span class="o">.</span><span class="na">0f</span> <span class="o">/</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">NEGATIVE_INFINITY</span> <span class="o">=</span> <span class="o">-</span><span class="n">1</span><span class="o">.</span><span class="na">0f</span> <span class="o">/</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">NaN</span> <span class="o">=</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">/</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">;</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>POSITIVE_INFINITY</code> è¡¨ç¤ºæ­£æ— ç©·å¤§ï¼Œæ­£æ— ç©·çš„å€¼ä¸º<code>0 1111 1111 000 0000 0000 0000 0000 0000</code>(ä¸ºäº†æ–¹ä¾¿çœ‹ï¼Œä¸­é—´ä¿ç•™äº†ç©ºæ ¼)ï¼›<strong>æ ‡å‡†å®šä¹‰ä¸ºæŒ‡æ•°åŸŸå…¨ä¸º1ï¼Œå°¾æ•°åŸŸå…¨ä¸º0</strong></li>
<li><code>NEGATIVE_INFINITY</code> è¡¨ç¤ºè´Ÿæ— ç©·å¤§ï¼Œå¯¹åº”çš„å€¼ä¸º<code>1 1111 1111 000 0000 0000 0000 0000 0000</code>ï¼›<strong>æ ‡å‡†å®šä¹‰ä¸ºæŒ‡æ•°åŸŸå…¨ä¸º1ï¼Œå°¾æ•°åŸŸå…¨ä¸º0</strong></li>
<li><code>NaN</code> è‹±æ–‡ç¼©å†™ï¼Œnot a numberï¼Œç”¨æ¥è¡¨ç¤ºé”™è¯¯çš„æƒ…å†µï¼Œä¾‹å¦‚ <code>0 / 0</code>çš„é—®é¢˜ï¼›<strong>æ ‡å‡†å®šä¹‰ä¸ºæŒ‡æ•°åŸŸå…¨ä¸º1ï¼Œå°¾æ•°åŸŸä¸å…¨ä¸º0</strong>ï¼Œå¦‚<code>0 1111 1111 000 0000 0000 0000 0000 0001</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">MAX_VALUE</span> <span class="o">=</span> <span class="n">0x1</span><span class="o">.</span><span class="na">fffffeP</span><span class="o">+</span><span class="n">127f</span><span class="o">;</span> <span class="c1">// 3.4028235e+38f
</span><span class="c1"></span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">MIN_NORMAL</span> <span class="o">=</span> <span class="n">0x1</span><span class="o">.</span><span class="na">0p</span><span class="o">-</span><span class="n">126f</span><span class="o">;</span> <span class="c1">// 1.17549435E-38f
</span><span class="c1"></span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">MIN_VALUE</span> <span class="o">=</span> <span class="n">0x0</span><span class="o">.</span><span class="na">000002P</span><span class="o">-</span><span class="n">126f</span><span class="o">;</span> <span class="o">//</span> <span class="n">1</span><span class="o">.</span><span class="na">4e</span><span class="o">-</span><span class="n">45f</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>MAX_VALUE</code> è¡¨ç¤ºäº†<code>float</code>ç±»å‹çš„æœ€å¤§è§„çº¦æ•°ä¸º<code>0x1.fffffeP+127f</code>ï¼Œè¿™é‡Œæ˜¯åå…­è¿›åˆ¶çš„è¡¨ç¤ºæ–¹å¼ï¼Œå³<code>(2 - Math.pow(2, -23))*Math.pow(2, 127)</code>ï¼Œç»“æœå³ä¸º<code>3.4028235e+38f</code></li>
<li><code>MIN_NORMAL</code>è¡¨ç¤ºäº†æœ€å°çš„è§„çº¦æ•°ï¼Œä¸º<code>0x1.0p-126f</code>ï¼Œå³<code>Math.pow(2, -126)</code>ï¼Œç»“æœä¸º<code>1.17549435E-38f</code></li>
<li><code>MIN_VALUE</code>è¡¨ç¤ºäº†æœ€å°çš„éè§„çº¦æ•°ï¼Œä¸º<code>0x0.000002P-126f</code>ï¼Œå³<code>Math.pow(2, -149)</code>ï¼Œç»“æœä¸º<code>1.4e-45f</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MAX_EXPONENT</span> <span class="o">=</span> <span class="n">127</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MIN_EXPONENT</span> <span class="o">=</span> <span class="o">-</span><span class="n">126</span><span class="o">;</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>MAX_EXPONENT</code> è¡¨ç¤ºäº†æœ€å¤§çš„æŒ‡æ•°å€¼ï¼Œä¸º<code>127</code></li>
<li><code>MIN_EXPONENT</code> è¡¨ç¤ºäº†æœ€å°çš„æŒ‡æ•°å€¼ï¼Œä¸º<code>-126</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">SIZE</span> <span class="o">=</span> <span class="n">32</span><span class="o">;</span></code></pre></td></tr></table>
</div>
</div>
<p>å®šä¹‰äº†<code>Float</code>çš„ <code>bit</code>ä½æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">BYTES</span> <span class="o">=</span> <span class="n">SIZE</span> <span class="o">/</span> <span class="n">Byte</span><span class="o">.</span><span class="na">SIZE</span><span class="o">;</span></code></pre></td></tr></table>
</div>
</div>
<p>å®šä¹‰äº†<code>Float</code>çš„å­—èŠ‚æ•°ï¼Œè®¡ç®—å€¼å›ºå®šä¸º4</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&#34;unchecked&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Class</span><span class="o">&lt;</span><span class="n">Float</span><span class="o">&gt;</span> <span class="n">TYPE</span> <span class="o">=</span> <span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">Float</span><span class="o">&gt;)</span> <span class="n">Class</span><span class="o">.</span><span class="na">getPrimitiveClass</span><span class="o">(</span><span class="s">&#34;float&#34;</span><span class="o">);</span></code></pre></td></tr></table>
</div>
</div>
<p>è·å–ç±»ä¿¡æ¯ï¼Œ<code>Float.TYPE == float.class</code>ä¸¤è€…æ˜¯ç­‰ä»·çš„</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">value</span></code></pre></td></tr></table>
</div>
</div>
<p>å› ä¸º<code>Float</code>æ˜¯<code>float</code>çš„åŒ…è£…ç±»ï¼Œæ‰€ä»¥è¿™é‡Œå°±å­˜æ”¾äº†å¯¹åº”çš„<code>float</code>ç±»å‹çš„å€¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="o">-</span><span class="n">2671257302660747028L</span><span class="o">;</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="æ–¹æ³•">æ–¹æ³•</h2>

<h3 id="æ„é€ æ–¹æ³•">æ„é€ æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="nf">Float</span><span class="o">(</span><span class="kt">float</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="nf">Float</span><span class="o">(</span><span class="kt">double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="nf">Float</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NumberFormatException</span> <span class="o">{</span>
  <span class="n">value</span> <span class="o">=</span> <span class="n">parseFloat</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>æä¾›ä¸‰ç§æ„é€ å‡½æ•°ï¼Œå¯ä»¥ä¼ å…¥Stringã€floatå’Œdoubleç±»å‹æ•°æ®ï¼Œå…¶ä¸­Stringç±»å‹è°ƒç”¨<code>parseFloat</code>æ–¹æ³•å®Œæˆï¼Œdoubleç±»å‹åˆ™ç›´æ¥å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆå¯èƒ½ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ï¼‰ã€‚</p>

<h3 id="parsefloat-æ–¹æ³•">parseFloat æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span> <span class="nf">parseFloat</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NumberFormatException</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">FloatingDecimal</span><span class="o">.</span><span class="na">parseFloat</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>é€šè¿‡è°ƒç”¨<code>FloatingDecimal.parseFloat</code>æ–¹æ³•å¯¹å­—ç¬¦ä¸²è¿›è¡Œè½¬æ¢ï¼Œ<code>FloatingDecimal</code>ç±»æ¥è‡ªäº<code>sun.misc.FloatingDecimal</code>ï¼Œå¹¶ä¸åœ¨ src.zip çš„æºç ä¸­åŒ…å«ï¼Œå¦å¤–ä»£ç è¾ƒé•¿ï¼Œä¸»è¦å®ç°äº†IEEE 754æ ‡å‡†çš„ä¸€äº›è®¡ç®—ï¼Œè¿™é‡Œå°±ä¸å¤åˆ¶äº†ï¼Œå¦‚æœæœ‰å…´è¶£å¯ä»¥å» <a href="https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/sun/misc/FloatingDecimal.java">FloatingDecimal</a> æŸ¥çœ‹æºç ï¼Œä»‹ç»ä¸€ä¸‹å¤§è‡´é€»è¾‘ï¼š</p>

<ol>
<li>å»é™¤ä¸¤è¾¹ç©ºæ ¼ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²æˆ–è€…nullï¼Œæ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸</li>
<li>åˆ¤æ–­æ˜¯å¦<code>-/+</code>å¼€å¤´ï¼Œç¡®å®šæ­£è´Ÿå·</li>
<li>åˆ¤æ–­æ˜¯å¦ç¬¦åˆ<code>NaN</code>å­—ç¬¦ä¸²ï¼Œæ˜¯åˆ™è¿”å›</li>
<li>åˆ¤æ–­æ˜¯å¦ç¬¦åˆ<code>Infinity</code>å­—ç¬¦ä¸²ï¼Œæ˜¯åˆ™æ ¹æ®æ­£è´Ÿæ€§ï¼Œè¿”å›æ­£æ— ç©·æˆ–è€…è´Ÿæ— ç©·</li>
<li>åˆ¤æ–­æ˜¯å¦<code>0x / 0X</code>å¼€å¤´çš„16è¿›åˆ¶æ•°ï¼Œæ˜¯çš„è¯è°ƒç”¨<code>parseHexString</code>å¤„ç†ã€‚ç„¶åæ­£åˆ™åŒ¹é…æ˜¯å¦ç¬¦åˆæ ¼å¼è¦æ±‚ï¼Œæ˜¯çš„è¯æŒ‰ç…§è§„èŒƒè¿›è¡Œè½¬æ¢è¿”å›</li>
<li>å¤„ç†ä¸­é—´çš„æ•°å­—å­—ç¬¦ä¸²</li>
<li>åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹åº”çš„<code>e</code>æˆ–è€…<code>E</code>çš„ç§‘å­¦è®¡æ•°ï¼Œä¸­é—´è¿˜éœ€è¦è€ƒè™‘å¤„ç†æº¢å‡ºçš„é—®é¢˜ã€‚</li>
<li><code>f</code>æˆ–<code>F</code>ç»“æŸæ ‡å¿—åˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦è¿˜æœ‰å‰©ä½™å­—ç¬¦ï¼Œå¦è¿”å›å¤„ç†ç»“æœ</li>
</ol>

<p>è¿”å›å¤„ç†ç»“æœçš„è¿‡ç¨‹æ¯”è¾ƒæœ‰æ„æ€ï¼Œå½“é0æ•°å­—å°äº7ä½æ—¶ï¼Œä¼šç›´æ¥è¿›è¡Œç»“æœå¤„ç†ï¼›å¦åˆ™å½“ç¬¦åˆä¸€å®šè¦æ±‚æ—¶ï¼Œä¼šé‡‡ç”¨<code>double</code>ç±»å‹å¤„ç†ï¼Œç„¶åå¼ºåˆ¶è½¬æ¢æˆ <code>float</code>ç±»å‹è¿”å›ç»“æœï¼›æœ€å¤æ‚çš„å°±æ˜¯é0æ•°å­—åŠ ä¸ŠæŒ‡æ•°è¿‡å¤§ï¼Œè¶…è¿‡ä¸€ä¸ªå¯ä»¥ä¸€æ­¥å®Œæˆæ“ä½œçš„ç•Œé™æ—¶ï¼Œä¼šé€šè¿‡ä¸€ä¸ªè¿‘ä¼¼æ­£ç¡®çš„ç­”æ¡ˆï¼Œç„¶åæŒ‰10çš„å¹‚è¿›è¡Œç¼©æ”¾æ¥é€’è¿›ç¼©å°è¯¯å·®ï¼Œå½“è¯¯å·®å°äºä¸€ä¸ªè®¤å¯å€¼æ—¶å°±è¿”å›ç»“æœï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­é—´ä½¿ç”¨<code>double</code>ç±»å‹æ¥é¿å…äº§ç”Ÿä¸Šæº¢/ä¸‹æº¢çš„é—®é¢˜ã€‚</p>

<p><em>è¿™ä¸ªè¿‡ç¨‹çš„ä»£ç æ¯”è¾ƒå¤æ‚ï¼Œå¤šæ˜¯æ•°å­¦è®¡ç®—ï¼Œä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œæœ¬æ–‡çš„å™è¿°å¯èƒ½ä¼šæœ‰é”™è¯¯ï¼Œå¦‚æœæœ‰é”™è¯¯æˆ–è€…ä½ æœ‰å¥½çš„æºä»£ç åˆ†æç›¸å…³èµ„æ–™ï¼Œæ¬¢è¿è”ç³»æŒ‡å‡ºã€‚</em></p>

<h3 id="tostring-æ–¹æ³•">toString æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">(</span><span class="kt">float</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">FloatingDecimal</span><span class="o">.</span><span class="na">toJavaFormatString</span><span class="o">(</span><span class="n">f</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Float</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>ä¸¤ä¸ª<code>toString</code>æ–¹æ³•ï¼Œä¸‹é¢çš„æ–¹æ³•å†…éƒ¨å®ç°è°ƒç”¨äº†ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œè€Œç¬¬ä¸€ä¸ªçš„å®ç°é€šè¿‡<code>FloatingDecimal</code>ç±»çš„æ–¹æ³•å»å®ç°ã€‚è¿™é‡Œçš„ä»£ç ä¾æ—§æ˜¯æ¯”è¾ƒå¤æ‚çš„ğŸ¤¦â€â™‚ï¸ï¼Œå°†æµ®ç‚¹æ•°è½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æ˜¯æ­£è´Ÿæ— ç©·ä»¥åŠNaNé€»è¾‘ï¼ˆè¿™æ¯”è¾ƒç®€å•ï¼‰ï¼Œç„¶åå¼€å§‹å¤„ç†é€»è¾‘ï¼ˆè¿™é‡Œè¿‡äºå¤æ‚äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹å¯¹åº”çš„æºç ï¼‰ã€‚<code>NaN</code>ä¼šè¿”å›å¯¹åº”çš„å­—ç¬¦ä¸²&rdquo;NaN&rdquo;ï¼Œ<code>Infinity</code>ä¼šè¿”å›å¯¹åº”çš„&rdquo;Infinity&rdquo;æˆ–è€…&rdquo;-Infinity&rdquo;ï¼Œå½“è¾“å…¥åœ¨<code>10^-3 ~ 10^7</code>ä¹‹é—´ï¼Œä¼šè¿”å›æ­£å¸¸çš„åè¿›åˆ¶æ•°ï¼Œè€Œä¸åœ¨è¿™ä¸ªèŒƒå›´æ—¶ï¼Œä¼šé‡‡ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºã€‚</p>

<h3 id="tohexstring-æ–¹æ³•">toHexString æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">toHexString</span><span class="o">(</span><span class="kt">float</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">f</span><span class="o">)</span> <span class="o">&lt;</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">MIN_NORMAL</span>
      <span class="o">&amp;&amp;</span>  <span class="n">f</span> <span class="o">!=</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">)</span> <span class="o">{</span><span class="c1">// float subnormal
</span><span class="c1"></span>            <span class="c1">// Adjust exponent to create subnormal double, then
</span><span class="c1"></span>            <span class="c1">// replace subnormal double exponent with subnormal float
</span><span class="c1"></span>            <span class="c1">// exponent
</span><span class="c1"></span>    <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">scalb</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span><span class="n">f</span><span class="o">,</span>
                                             <span class="cm">/* -1022+126 */</span>
                                             <span class="n">DoubleConsts</span><span class="o">.</span><span class="na">MIN_EXPONENT</span><span class="o">-</span>
                                             <span class="n">FloatConsts</span><span class="o">.</span><span class="na">MIN_EXPONENT</span><span class="o">));</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="na">replaceFirst</span><span class="o">(</span><span class="s">&#34;p-1022$&#34;</span><span class="o">,</span> <span class="s">&#34;p-126&#34;</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="k">else</span> <span class="c1">// double string will be the same as float string
</span><span class="c1"></span>    <span class="k">return</span> <span class="n">Double</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">f</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>è¿”å›åå…­è¿›åˆ¶æ ¼å¼å­—ç¬¦ä¸²ï¼Œå†…éƒ¨ä¸»è¦ä½¿ç”¨äº†<code>Double.toHexString</code>æ–¹æ³•å®ç°</p>

<h3 id="valueof-æ–¹æ³•">valueOf æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">Float</span> <span class="nf">valueOf</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NumberFormatException</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="n">Float</span><span class="o">(</span><span class="n">parseFloat</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="n">Float</span> <span class="nf">valueOf</span><span class="o">(</span><span class="kt">float</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="n">Float</span><span class="o">(</span><span class="n">f</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>å­˜åœ¨ä¸¤ä¸ª<code>valueOf</code>æ–¹æ³•ï¼Œå½“å‚æ•°ä¸º<code>float</code>ç±»å‹æ—¶ï¼Œç›´æ¥<code>new Float(f)</code>ç„¶åè¿”å›ï¼›å¯¹äºå­—ç¬¦ä¸²å‚æ•°ï¼Œè°ƒç”¨<code>parseFloat</code>æ–¹æ³•è½¬æ¢æˆ<code>float</code>ï¼Œç„¶ånewä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚</p>

<h3 id="isnan-æ–¹æ³•">isNaN æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isNaN</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">isNaN</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isNaN</span><span class="o">(</span><span class="kt">float</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="n">v</span> <span class="o">!=</span> <span class="n">v</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>ä¸¤ä¸ª<code>isNaN</code>çš„æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¼ å…¥çš„<code>float</code>æ˜¯å¦æ˜¯<code>NaN</code>ï¼Œç¬¬ä¸€ä¸ªæ–¹æ³•å†…éƒ¨è°ƒç”¨äº†ç¬¬äºŒä¸ªæ–¹æ³•å®ç°ã€‚è€Œç¬¬äºŒä¸ªæ–¹æ³•å†…éƒ¨ç›´æ¥ä½¿ç”¨äº†<code>(v != v)</code>çš„é€»è¾‘ã€‚è¿™æ˜¯ç”±<code>NaN</code>ç›¸å…³æ ‡å‡†å†³å®šçš„ï¼Œ<code>NaN</code>æ˜¯<strong>æ— åºçš„</strong>ï¼Œæ‰€ä»¥</p>

<ol>
<li>å½“ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªæ“ä½œæ•°ä¸º<code>NaN</code>æ—¶ï¼Œ<code>&lt;</code>, <code>&lt;=</code>,<code>&gt;</code>, and <code>&gt;=</code>å‡è¿”å›<code>false</code></li>
<li>å¦‚æœä»»ä¸€æ“ä½œæ•°ä¸º<code>NaN</code>æ—¶ï¼Œ<code>==</code>è¿”å›<code>false</code>ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœxæˆ–è€…yæ˜¯<code>NaN</code>ï¼Œé‚£ä¹ˆ<code>(x&lt;y) == !(x&gt;=y)</code>ä¸º<code>false</code></li>
<li>å¦‚æœä»»ä¸€æ“ä½œæ•°ä¸º<code>NaN</code>æ—¶ï¼Œ<code>!=</code> è¿”å›<code>true</code>ã€‚ç‰¹åˆ«æ˜¯ï¼Œå½“ä¸”ä»…å½“xä¸º<code>NaN</code>æ—¶ï¼Œ<code>x != x</code>ä¸º<code>true</code></li>
</ol>

<p>å…·ä½“ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹èµ„æ–™ <a href="https://docs.oracle.com/javase/specs/jls/se6/html/expressions.html#5198">oracel</a> çš„è¯¦ç»†è¯´æ˜ã€‚</p>

<h3 id="isinfinite-æ–¹æ³•">isInfinite æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isInfinite</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">isInfinite</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isInfinite</span><span class="o">(</span><span class="kt">float</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">POSITIVE_INFINITY</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">NEGATIVE_INFINITY</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æ— ç©·æ•°ï¼ŒåŒ…æ‹¬æ­£æ— ç©·å’Œè´Ÿæ— ç©·ã€‚</p>

<h3 id="isfinite-æ–¹æ³•">isFinite æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isFinite</span><span class="o">(</span><span class="kt">float</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">f</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>åˆ¤æ–­è¾“å…¥çš„æ•°æ˜¯ä¸æ˜¯æœ‰é™æµ®ç‚¹æ•°ï¼Œé€šè¿‡åˆ¤æ–­è¾“å…¥å‚æ•°ç»å¯¹å€¼æ˜¯å¦å°äºæœ€å¤§æµ®ç‚¹æ•°ã€‚</p>

<h3 id="xxxvalue-æ–¹æ³•">xxxValue æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">byte</span> <span class="nf">byteValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">short</span> <span class="nf">shortValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="kt">short</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">int</span> <span class="nf">intValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">long</span> <span class="nf">longValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">float</span> <span class="nf">floatValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">double</span> <span class="nf">doubleValue</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>è·å–å„ç§ç±»å‹çš„å€¼ï¼Œå†…éƒ¨ç›´æ¥å¼ºåˆ¶è½¬æ¢æˆå¯¹åº”ç±»å‹çš„å€¼è¿”å›ã€‚</p>

<h3 id="hashcode-æ–¹æ³•">hashCode æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Float</span><span class="o">.</span><span class="na">hashCode</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">(</span><span class="kt">float</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">floatToIntBits</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>è°ƒç”¨<code>floatToIntBits</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥å°†å¯¹åº”æµ®ç‚¹æ•°è½¬æ¢æˆæ•´æ•°ä½œä¸ºå…¶hashCode</p>

<h3 id="floattorawintbits-æ–¹æ³•">floatToRawIntBits æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">native</span> <span class="kt">int</span> <span class="nf">floatToRawIntBits</span><span class="o">(</span><span class="kt">float</span> <span class="n">value</span><span class="o">);</span>

<span class="cm">/*
</span><span class="cm"> * Find the bit pattern corresponding to a given float, NOT collapsing NaNs
</span><span class="cm"> */</span>
<span class="n">JNIEXPORT</span> <span class="n">jint</span> <span class="n">JNICALL</span>
<span class="nf">Java_java_lang_Float_floatToRawIntBits</span><span class="o">(</span><span class="n">JNIEnv</span> <span class="o">*</span><span class="n">env</span><span class="o">,</span> <span class="n">jclass</span> <span class="n">unused</span><span class="o">,</span> <span class="n">jfloat</span> <span class="n">v</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">union</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
        <span class="kt">float</span> <span class="n">f</span><span class="o">;</span>
    <span class="o">}</span> <span class="n">u</span><span class="o">;</span>
    <span class="n">u</span><span class="o">.</span><span class="na">f</span> <span class="o">=</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span><span class="n">v</span><span class="o">;</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">jint</span><span class="o">)</span><span class="n">u</span><span class="o">.</span><span class="na">i</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>floatToRawIntBits</code>æ˜¯ä¸ª<code>native</code>æ–¹æ³•ï¼Œå…·ä½“å®ç°ç”±ä¸Šé¢æä¾›çš„cè¯­è¨€ä»£ç å®ç°ã€‚<code>union</code>æ˜¯ä¸ªæ•°æ®ç»“æ„ï¼Œèƒ½åœ¨åŒä¸€ä¸ªå†…å­˜ç©ºé—´å‚¨å­˜ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€å—å†…å­˜ï¼Œå¯ä»¥è¡¨ç¤º<code>float</code>ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤º<code>int</code>ã€‚</p>

<p>ç»“æœä¼šä¿ç•™<code>NaN</code>å€¼ã€‚æ­£æ— ç©·ç»“æœä¸º<code>0x7f800000</code>ï¼Œè´Ÿæ— ç©·ç»“æœä¸º<code>0xff800000</code>ï¼›å½“å‚æ•°ä¸º<code>NaN</code>æ—¶ï¼Œç»“æœä¼šæ˜¯å®é™…çš„<code>NaN</code>æ•´æ•°å€¼ï¼Œè¯¥æ–¹æ³•ä¸ä¼šåƒ<code>floatToIntBits</code>ä¸€æ ·ï¼Œå¯¹NaNè¿›è¡Œç»Ÿä¸€å€¼å¤„ç†ã€‚</p>

<h3 id="intbitstofloat-æ–¹æ³•">intBitsToFloat æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">native</span> <span class="kt">float</span> <span class="nf">intBitsToFloat</span><span class="o">(</span><span class="kt">int</span> <span class="n">bits</span><span class="o">);</span>

<span class="cm">/*
</span><span class="cm"> * Find the float corresponding to a given bit pattern
</span><span class="cm"> */</span>
<span class="n">JNIEXPORT</span> <span class="n">jfloat</span> <span class="n">JNICALL</span>
<span class="nf">Java_java_lang_Float_intBitsToFloat</span><span class="o">(</span><span class="n">JNIEnv</span> <span class="o">*</span><span class="n">env</span><span class="o">,</span> <span class="n">jclass</span> <span class="n">unused</span><span class="o">,</span> <span class="n">jint</span> <span class="n">v</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">union</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
        <span class="kt">float</span> <span class="n">f</span><span class="o">;</span>
    <span class="o">}</span> <span class="n">u</span><span class="o">;</span>
    <span class="n">u</span><span class="o">.</span><span class="na">i</span> <span class="o">=</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span><span class="n">v</span><span class="o">;</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">jfloat</span><span class="o">)</span><span class="n">u</span><span class="o">.</span><span class="na">f</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>intBitsToFloat</code>ä¹Ÿæ˜¯ä¸ª<code>native</code>æ–¹æ³•ï¼Œç”±ä¸Šæ–¹å¯¹åº”çš„cè¯­è¨€ä»£ç å®ç°ï¼Œå…·ä½“å°±ä¸èµ˜è¿°äº†ã€‚å‚æ•°ä¸º<code>0x7f800000</code>æ—¶ï¼Œç»“æœä¸ºæ­£æ— ç©·ï¼›å‚æ•°ä¸º<code>0xff800000</code>ï¼Œç»“æœä¸ºè´Ÿæ— ç©·ï¼›å½“å‚æ•°ä¸º<code>0x7f800001 ~ 0x7fffffff</code>æˆ–è€…<code>0xff800001 ~ 0xffffffff</code>ä¹‹é—´æ—¶ï¼Œç»“æœä¸º<code>NaN</code>ã€‚å› ä¸ºå¯¹äºJavaè€Œè¨€ï¼Œç›¸åŒç±»å‹è€Œä¸åŒbitæ¨¡å¼ç»„æˆçš„NaNæ•°æ®æ˜¯ä¸å¯åˆ†è¾¨çš„ã€‚å¦‚æœä½ éœ€è¦åŒºåˆ†ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„<code>floatToRawIntBits</code>æ–¹æ³•ã€‚</p>

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•å¯èƒ½æ— æ³•è¿”å›ä¸å‚æ•°æ•°æ® <em>bit pattern</em> ä¸€è‡´çš„<code>NaN</code>ç»“æœã€‚<code>IEEE 754</code>æ ‡å‡†åŒºåˆ†äº†ä¸¤ç§ç±»å‹çš„<code>NaN</code>æ•°æ®ï¼ˆ<code>quiet NaNs and signaling NaNs</code>ï¼‰ï¼Œä½†æ˜¯åœ¨Javaä¸­è¿™ä¸¤ç§çš„å¤„ç†æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥å¯¹äºæŸäº›å€¼<code>floatToRawIntBits(intBitsToFloat(start)) != start</code>å¯èƒ½æ˜¯ä¼šå­˜åœ¨çš„ã€‚ä¸è¿‡å¯¹äºä¸Šè¿°ç»™å‡ºçš„èŒƒå›´å·²ç»åŒ…å«äº†æ‰€æœ‰å¯èƒ½çš„<code>NaN</code>æ•°æ®çš„ä½ä¿¡æ¯ã€‚</p>

<h3 id="floattointbits-æ–¹æ³•">floatToIntBits æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">floatToIntBits</span><span class="o">(</span><span class="kt">float</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">floatToRawIntBits</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
  <span class="c1">// Check for NaN based on values of bit fields, maximum
</span><span class="c1"></span>  <span class="c1">// exponent and nonzero significand.
</span><span class="c1"></span>  <span class="k">if</span> <span class="o">(</span> <span class="o">((</span><span class="n">result</span> <span class="o">&amp;</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">EXP_BIT_MASK</span><span class="o">)</span> <span class="o">==</span>
        <span class="n">FloatConsts</span><span class="o">.</span><span class="na">EXP_BIT_MASK</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
      <span class="o">(</span><span class="n">result</span> <span class="o">&amp;</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">SIGNIF_BIT_MASK</span><span class="o">)</span> <span class="o">!=</span> <span class="n">0</span><span class="o">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">0x7fc00000</span><span class="o">;</span>
  <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>åŸºæœ¬ä¸<code>floatToRawIntBits</code>æ–¹æ³•ä¸€è‡´ï¼Œåªæ˜¯å¢åŠ äº†å¯¹<code>NaN</code>çš„åˆ¤æ–­ï¼Œè‹¥æ˜¯<code>NaN</code>åˆ™ç›´æ¥è¿”å›<code>0x7fc00000</code>ï¼ˆ<strong>è¿™é‡Œå¯¹<code>NaN</code>åšäº†ç»Ÿä¸€å¤„ç†ï¼Œæ‰€æœ‰çš„éƒ½è¿”å›<code>0x7fc00000</code></strong>ï¼‰ï¼›æ­£æ— ç©·ä¸º<code>0x7f800000</code>ï¼›è´Ÿæ— ç©·ä¸º<code>0xff800000</code>ï¼›å…¶ä»–çš„å€¼è¿”å›å¯¹åº”çš„ç»“æœã€‚</p>

<p>å…·ä½“çœ‹ä¸‹ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="o">(</span><span class="n">result</span> <span class="o">&amp;</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">EXP_BIT_MASK</span><span class="o">)</span> <span class="o">==</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">EXP_BIT_MASK</span></code></pre></td></tr></table>
</div>
</div>
<p><code>FloatConsts.EXP_BIT_MASK</code> å€¼ä¸º <code>0x7F800000</code>, äºŒè¿›åˆ¶ä¸º <code>0 11111111 00000000000000000000000</code>ï¼Œè¿™é‡Œå°±æ˜¯å¯¹æŒ‡æ•°åŸŸåšäº†åˆ¤æ–­ï¼Œ<strong>æŒ‡æ•°åŸŸå…¨ä¸º1</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">result</span> <span class="o">&amp;</span> <span class="n">FloatConsts</span><span class="o">.</span><span class="na">SIGNIF_BIT_MASK</span><span class="o">)</span> <span class="o">!=</span> <span class="n">0</span></code></pre></td></tr></table>
</div>
</div>
<p><code>FloatConsts.SIGNIF_BIT_MASK</code>å€¼ä¸º <code>0x007FFFFF</code>ï¼ŒäºŒè¿›åˆ¶ä¸º <code>0 00000000 11111111111111111111111</code>ï¼Œè¿™é‡Œå°±æ˜¯å¯¹å°¾æ•°åŸŸè¿›è¡Œåˆ¤æ–­ï¼Œ<strong>å°¾æ•°åŸŸä¸å…¨ä¸º0</strong></p>

<p>ä¸¤è€…çš„ç»“åˆç¬¦åˆæˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„<code>NaN</code>çš„æ ‡å‡†å®šä¹‰ã€‚</p>

<h3 id="equals-æ–¹æ³•">equals æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="n">Float</span><span class="o">)</span>
    <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">floatToIntBits</span><span class="o">(((</span><span class="n">Float</span><span class="o">)</span><span class="n">obj</span><span class="o">).</span><span class="na">value</span><span class="o">)</span> <span class="o">==</span> <span class="n">floatToIntBits</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>é¦–å…ˆåˆ¤æ–­objæ˜¯ä¸æ˜¯<code>Float</code>å¯¹è±¡çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡<code>floatToIntBits</code>è·å–ä¸¤ä¸ªæ•´æ•°å€¼ï¼Œè¿›è¡Œæ¯”è¾ƒåˆ¤æ–­æ˜¯å¦ä¸€è‡´ï¼›è¿™é‡Œæ³¨æ„çš„æ˜¯å½“è¯¯å·®å°äºç²¾åº¦èŒƒå›´æ—¶ï¼Œç»“æœæ˜¯å¯èƒ½è¿”å›<code>true</code>çš„ï¼Œä¾‹å¦‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Float</span> <span class="n">a</span> <span class="o">=</span> <span class="n">100000f</span><span class="o">;</span>
<span class="n">Float</span> <span class="n">b</span> <span class="o">=</span> <span class="n">100000</span><span class="o">.</span><span class="na">001f</span><span class="o">;</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">floatToIntBits</span><span class="o">(</span><span class="n">a</span><span class="o">));</span> <span class="c1">// 1203982336
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">floatToIntBits</span><span class="o">(</span><span class="n">b</span><span class="o">));</span> <span class="c1">// 1203982336
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">b</span><span class="o">));</span> <span class="c1">// true
</span><span class="c1"></span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">Float</span><span class="o">(</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="k">new</span> <span class="n">Float</span><span class="o">(-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">)));</span> <span class="o">//</span> <span class="kc">false</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="compare-æ–¹æ³•">compare æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Float</span> <span class="n">anotherFloat</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">value</span><span class="o">,</span> <span class="n">anotherFloat</span><span class="o">.</span><span class="na">value</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="kt">float</span> <span class="n">f1</span><span class="o">,</span> <span class="kt">float</span> <span class="n">f2</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">f1</span> <span class="o">&lt;</span> <span class="n">f2</span><span class="o">)</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">1</span><span class="o">;</span>           <span class="c1">// Neither val is NaN, thisVal is smaller
</span><span class="c1"></span>  <span class="k">if</span> <span class="o">(</span><span class="n">f1</span> <span class="o">&gt;</span> <span class="n">f2</span><span class="o">)</span>
    <span class="k">return</span> <span class="n">1</span><span class="o">;</span>            <span class="c1">// Neither val is NaN, thisVal is larger
</span><span class="c1"></span>
  <span class="c1">// Cannot use floatToRawIntBits because of possibility of NaNs.
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">thisBits</span>    <span class="o">=</span> <span class="n">Float</span><span class="o">.</span><span class="na">floatToIntBits</span><span class="o">(</span><span class="n">f1</span><span class="o">);</span>
  <span class="kt">int</span> <span class="n">anotherBits</span> <span class="o">=</span> <span class="n">Float</span><span class="o">.</span><span class="na">floatToIntBits</span><span class="o">(</span><span class="n">f2</span><span class="o">);</span>

  <span class="k">return</span> <span class="o">(</span><span class="n">thisBits</span> <span class="o">==</span> <span class="n">anotherBits</span> <span class="o">?</span>  <span class="n">0</span> <span class="o">:</span> <span class="c1">// Values are equal
</span><span class="c1"></span>          <span class="o">(</span><span class="n">thisBits</span> <span class="o">&lt;</span> <span class="n">anotherBits</span> <span class="o">?</span> <span class="o">-</span><span class="n">1</span> <span class="o">:</span> <span class="c1">// (-0.0, 0.0) or (!NaN, NaN)
</span><span class="c1"></span>           <span class="n">1</span><span class="o">));</span>                          <span class="c1">// (0.0, -0.0) or (NaN, !NaN)
</span><span class="c1"></span><span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>compareTo</code>æ–¹æ³•å†…éƒ¨è°ƒç”¨äº†<code>compare</code>å®ç°ï¼Œæ‰€ä»¥çœ‹ä¸‹<code>compare</code>çš„å…·ä½“å®ç°ã€‚é¦–å…ˆåˆ¤æ–­<code>&lt; / &gt;</code>æ“ä½œï¼Œå¦‚æœæˆç«‹ç›´æ¥è¿”å›ï¼›è‹¥ä¸æˆç«‹ï¼Œåˆ™è¡¨ç¤ºæ•°æ®å­˜åœ¨<code>NaN</code>æƒ…å†µï¼Œå¯¹äº<code>NaN</code>æ¥è¯´ï¼Œ<code>&lt;, &lt;=, &gt;, and &gt;=</code>åˆ¤æ–­ç»“æœéƒ½æ˜¯<code>false</code>ï¼Œå‰©ä¸‹çš„æ³¨é‡Šå·²ç»è§£é‡Šçš„å¾ˆæ¸…æ¥šäº†ï¼Œä¸èµ˜è¿°äº†ã€‚ä¸è¿‡ä¸<code>==</code>è¿˜æ˜¯å­˜åœ¨åŒºåˆ«çš„ï¼Œå€¼å¾—æ³¨æ„ä¸‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">==</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">);</span> <span class="c1">// true
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">);</span>  <span class="c1">// false
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">&lt;=</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">);</span> <span class="c1">// true
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span>   <span class="c1">// -1
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="o">-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span>   <span class="c1">// 1
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(-</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">,</span> <span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">));</span> <span class="c1">// 0
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">,</span> <span class="o">-</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">));</span> <span class="c1">// 0
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">1</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">));</span>  <span class="c1">// -1
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">1</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="o">-</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">));</span> <span class="o">//</span> <span class="o">-</span><span class="n">1</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="sum-min-max-æ–¹æ³•">sumã€minã€max æ–¹æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span> <span class="nf">sum</span><span class="o">(</span><span class="kt">float</span> <span class="n">a</span><span class="o">,</span> <span class="kt">float</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span> <span class="nf">max</span><span class="o">(</span><span class="kt">float</span> <span class="n">a</span><span class="o">,</span> <span class="kt">float</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span> <span class="nf">min</span><span class="o">(</span><span class="kt">float</span> <span class="n">a</span><span class="o">,</span> <span class="kt">float</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œä¸è¿‡è¿˜æ˜¯è¦æ³¨æ„ä¸€äº›ç‰¹æ®Šè¾¹ç•Œå€¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="o">-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span> <span class="c1">// 0.0
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">,</span> <span class="o">-</span><span class="n">0</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span> <span class="c1">// -0.0
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">,</span> <span class="n">1</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span>  <span class="c1">// NaN
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Float</span><span class="o">.</span><span class="na">min</span><span class="o">(-</span><span class="n">Float</span><span class="o">.</span><span class="na">NaN</span><span class="o">,</span> <span class="n">1</span><span class="o">.</span><span class="na">0f</span><span class="o">));</span> <span class="o">//</span> <span class="n">NaN</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>ä»æ–‡ç« å„ç§è¯´æ˜ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œ<code>Float</code>ä»£ç æ¯”å‰ä¸¤æ¬¡ç›¸å¯¹æ¥è¯´å¤æ‚å¤šäº†ã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯<code>IEEE 754</code>æ ‡å‡†ï¼Œå› ä¸ºå®é™…ä»£ç ä¸­å¾ˆå¤šéƒ½æ˜¯æ ¹æ®æ ‡å‡†è€Œæ¥ï¼Œå¦‚æœå¯¹æ ‡å‡†æœ‰æ‰€äº†è§£æ•´ä½“æ€è·¯ç†è§£èµ·æ¥å°±ä¼šç®€å•å¾ˆå¤šã€‚å¦å¤–å…¶ä¸­ä¸€äº›æ–¹æ³•çš„è®¡ç®—ï¼ˆå¦‚<code>compare</code>ï¼Œ<code>equals</code>ï¼‰ç­‰ä¹Ÿæ˜¯æ¯”è¾ƒæœ‰æ„æ€çš„ï¼Œçœ‹äº†ä»£ç ä½ å°±äº†è§£äº†ä¸ºä»€ä¹ˆ<code>new Float(0.0f).equals(new Float(-0.0f))</code>æ˜¯ä¸æˆç«‹çš„ã€‚</p>
    </div>

    <div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">èµèµæ”¯æŒ</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/img/reward/wechat.png">
        <span>å¾®ä¿¡æ‰“èµ</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/img/reward/alipay.jpg">
        <span>æ”¯ä»˜å®æ‰“èµ</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/java%E6%BA%90%E7%A0%81/">Javaæºç </a>
          <a href="/tags/float/">Float</a>
          </div>
      <nav class="post-nav">
        
        <a class="next" href="/post/java%E4%B8%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%AD%A3%E5%88%99%E6%9B%BF%E6%8D%A2/">
            <span class="next-text nav-default">Javaä¸­å­—ç¬¦ä¸²çš„æ­£åˆ™æ›¿æ¢</span>
            <span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="utter-container"></div>
        <script src="https://utteranc.es/client.js"
            repo= 'renyijiu/hugo_blog'
            issue-term= "title"
            theme= 'github-light'
            crossorigin= "anonymous"
            async>
        </script>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:me@renyijiu.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/renyijiu" class="iconfont icon-github" title="github"></a>
  <a href="https://blog.renyijiu.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    ç”± <a class="hexo-link" href="https://gohugo.io">Hugo</a> å¼ºåŠ›é©±åŠ¨
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    ä¸»é¢˜ - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  

  <span class="copyright-year">
    &copy; 
    2014 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Live For Dream, Dream For Love.</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>  
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.ece58db6.min.js"></script>







</body>
</html>
